import{r as d,T as w,o as m,c as p,b as a,a as e,w as C,d as k,v as $,u as s,e as y,F as b,f as S,i as N,g as f,h as g,t as r}from"./app-4bc3e4ef.js";import{_ as j}from"./NavBar-c5f62459.js";import{_ as D}from"./Pagination-f9dec807.js";import{_ as M,r as T}from"./ConfirmationModal-e05edcb7.js";import{r as V}from"./MagnifyingGlassIcon-6aefe016.js";import"./Logo-e592dace.js";import"./_plugin-vue_export-helper-c27b6911.js";const B={class:"px-4 sm:px-6 lg:px-8 m-5"},E={class:"sm:flex sm:items-center"},A=e("div",{class:"sm:flex-auto"},[e("h1",{class:"text-xl font-semibold leading-6 text-gray-900"},"Contacts")],-1),F={class:"flex flex-wrap gap-4 mt-4 sm:ml-16 sm:mt-0 sm:flex-none"},I={class:"absolute inset-y-0 right-0 flex py-1.5 pr-1.5"},R={class:"inline-flex items-center rounded px-2 font-sans text-sm font-medium text-gray-400 transition-all hover:text-blue-100"},L={class:"mt-8 flow-root"},O={class:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},U={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},q={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 sm:rounded-lg"},z={class:"min-w-full divide-y divide-gray-300"},G=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-base font-semibold text-gray-900 sm:pl-6"},"Identifiant"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-base font-semibold text-gray-900 sm:pl-6"},"Nom"),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-base font-semibold text-gray-900"},"Téléphone"),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-base font-semibold text-gray-900"},"Email"),e("th",{scope:"col",class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},[e("span",{class:"sr-only"},"Actions")])])],-1),H={class:"divide-y divide-gray-200 bg-white"},J={class:"whitespace-nowrap py-4 pl-4 pr-3 text-base font-medium text-gray-900 sm:pl-6"},K={class:"whitespace-nowrap py-4 pl-4 pr-3 text-base font-medium text-gray-900 sm:pl-6"},P={class:"whitespace-nowrap px-3 py-4 text-base text-gray-500"},Q={class:"whitespace-nowrap px-3 py-4 text-base text-gray-500"},W={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-base font-medium sm:pr-6"},X={class:"sr-only"},Y=["onClick"],Z={class:"sr-only"},ne={__name:"Index",props:{contacts:Object,search:String,page:Number},setup(c){const u=c;let l=d(!1),x=d(""),h=d(null);const n=w({search:u.search,page:u.page}),v=i=>{l.value=!0,x.value='Etes-vous sûr de vouloir supprimer "<b>'+i.name+'</b>" ?',h.value=i.id},_=()=>{n.post(route("contacts.destroy",h.value),{preserveScroll:!0,onSuccess:()=>{l.value=!1}})};return(i,o)=>(m(),p(b,null,[a(j),e("div",B,[e("div",E,[A,e("div",F,[e("form",{class:"relative mt-1 flex items-center",onSubmit:o[1]||(o[1]=C(t=>s(n).get(i.route("contacts.index")),["prevent"]))},[k(e("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>s(n).search=t),type:"text",name:"search",id:"search",class:"block w-full rounded-md border-gray-300 pr-12 shadow-sm focus:border-primary focus:ring-primary sm:text-sm",placeholder:"Rechercher..."},null,512),[[$,s(n).search]]),e("div",I,[e("button",R,[a(s(V),{class:"w-5"})])])],32),a(s(g),{href:i.route("contacts.create"),class:"flex block rounded-md bg-primary px-3 py-2 text-center text-base font-semibold text-white shadow-sm hover:bg-primary/95 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary"},{default:y(()=>[a(s(T),{class:"w-6"}),f("Ajouter un contact")]),_:1},8,["href"])])]),e("div",L,[e("div",O,[e("div",U,[e("div",q,[e("table",z,[G,e("tbody",H,[(m(!0),p(b,null,S(c.contacts.data,t=>(m(),p("tr",{key:t.id,class:"hover:bg-gray-50"},[e("td",J,r(t.id),1),e("td",K,r(t.name),1),e("td",P,r(t.phone),1),e("td",Q,r(t.email),1),e("td",W,[a(s(g),{href:i.route("contacts.edit",t.id),class:"text-primary hover:text-primary/75"},{default:y(()=>[f("Modifier"),e("span",X,", "+r(t.name),1)]),_:2},1032,["href"]),e("button",{onClick:ee=>v(t),class:"ml-2 text-red-500 hover:text-red-600"},[f("Supprimer"),e("span",Z,", "+r(t.name),1)],8,Y)])]))),128)),a(M,{open:s(l),title:"Confirmation de suppression",message:s(x),onConfirm:o[2]||(o[2]=t=>_()),onCancel:o[3]||(o[3]=t=>N(l)?l.value=!1:l=!1),disabled:s(n).processing},null,8,["open","message","disabled"])])]),a(D,{objects:c.contacts},null,8,["objects"])])])])])])],64))}};export{ne as default};
